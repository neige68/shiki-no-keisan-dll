<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>dist_readme</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <style type="text/css">body {font-family: Helvetica, arial, sans-serif;font-size: 14px;line-height: 1.6;padding-top: 10px;padding-bottom: 10px;background-color: white;padding: 30px; }body > *:first-child {margin-top: 0 !important; }body > *:last-child {margin-bottom: 0 !important; }a {color: #4183C4; }a.absent {color: #cc0000; }a.anchor {display: block;padding-left: 30px;margin-left: -30px;cursor: pointer;position: absolute;top: 0;left: 0;bottom: 0; }h1, h2, h3, h4, h5, h6 {margin: 20px 0 10px;padding: 0;font-weight: bold;-webkit-font-smoothing: antialiased;cursor: text;position: relative; }h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {text-decoration: none; }h1 tt, h1 code {font-size: inherit; }h2 tt, h2 code {font-size: inherit; }h3 tt, h3 code {font-size: inherit; }h4 tt, h4 code {font-size: inherit; }h5 tt, h5 code {font-size: inherit; }h6 tt, h6 code {font-size: inherit; }h1 {font-size: 28px;color: black; }h2 {font-size: 24px;border-bottom: 1px solid #cccccc;color: black; }h3 {font-size: 18px; }h4 {font-size: 16px; }h5 {font-size: 14px; }h6 {color: #777777;font-size: 14px; }p, blockquote, ul, ol, dl, li, table, pre {margin: 15px 0; }hr {border: 0 none;color: #cccccc;height: 4px;padding: 0; }body > h2:first-child {margin-top: 0;padding-top: 0; }body > h1:first-child {margin-top: 0;padding-top: 0; }body > h1:first-child + h2 {margin-top: 0;padding-top: 0; }body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {margin-top: 0;padding-top: 0; }a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {margin-top: 0;padding-top: 0; }h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {margin-top: 0; }li p.first {display: inline-block; }ul, ol {padding-left: 30px; }ul :first-child, ol :first-child {margin-top: 0; }ul :last-child, ol :last-child {margin-bottom: 0; }dl {padding: 0; }dl dt {font-size: 14px;font-weight: bold;font-style: italic;padding: 0;margin: 15px 0 5px; }dl dt:first-child {padding: 0; }dl dt > :first-child {margin-top: 0; }dl dt > :last-child {margin-bottom: 0; }dl dd {margin: 0 0 15px;padding: 0 15px; }dl dd > :first-child {margin-top: 0; }dl dd > :last-child {margin-bottom: 0; }blockquote {border-left: 4px solid #dddddd;padding: 0 15px;color: #777777; }blockquote > :first-child {margin-top: 0; }blockquote > :last-child {margin-bottom: 0; }table {padding: 0; }table tr {border-top: 1px solid #cccccc;background-color: white;margin: 0;padding: 0; }table tr:nth-child(2n) {background-color: #f8f8f8; }table tr th {font-weight: bold;border: 1px solid #cccccc;text-align: left;margin: 0;padding: 6px 13px; }table tr td {border: 1px solid #cccccc;text-align: left;margin: 0;padding: 6px 13px; }table tr th :first-child, table tr td :first-child {margin-top: 0; }table tr th :last-child, table tr td :last-child {margin-bottom: 0; }img {max-width: 100%; }span.frame {display: block;overflow: hidden; }span.frame > span {border: 1px solid #dddddd;display: block;float: left;overflow: hidden;margin: 13px 0 0;padding: 7px;width: auto; }span.frame span img {display: block;float: left; }span.frame span span {clear: both;color: #333333;display: block;padding: 5px 0 0; }span.align-center {display: block;overflow: hidden;clear: both; }span.align-center > span {display: block;overflow: hidden;margin: 13px auto 0;text-align: center; }span.align-center span img {margin: 0 auto;text-align: center; }span.align-right {display: block;overflow: hidden;clear: both; }span.align-right > span {display: block;overflow: hidden;margin: 13px 0 0;text-align: right; }span.align-right span img {margin: 0;text-align: right; }span.float-left {display: block;margin-right: 13px;overflow: hidden;float: left; }span.float-left span {margin: 13px 0 0; }span.float-right {display: block;margin-left: 13px;overflow: hidden;float: right; }span.float-right > span {display: block;overflow: hidden;margin: 13px auto 0;text-align: right; }code, tt {margin: 0 2px;padding: 0 5px;white-space: nowrap;border: 1px solid #eaeaea;background-color: #f8f8f8;border-radius: 3px; }pre code {margin: 0;padding: 0;white-space: pre;border: none;background: transparent; }.highlight pre {background-color: #f8f8f8;border: 1px solid #cccccc;font-size: 13px;line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px; }pre {background-color: #f8f8f8;border: 1px solid #cccccc;font-size: 13px;line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px; }pre code, pre tt {background-color: transparent;border: none; }</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<h1 id="shiki-no-keisan-dll-式の計算計算式評価dll-バイナリ-リリース用-ドキュメント">shiki-no-keisan-dll
式の計算(計算式評価)DLL バイナリ リリース用 ドキュメント</h1>
<p>Windows x86, x64 用の 式の計算(計算式評価)DLL です。</p>
<p>四則演算・冪乗・括弧・組込関数を含む計算式の文字列を渡して、計算結果を
double(倍精度浮動小数点)値で受け取れます。</p>
<p>自由に使える x64 用の DLL が無いようなので Boost Spirit X3
を利用して作成しました。</p>
<p>C++, C, C#, VB.NET のサンプルを添付しています。</p>
<p>C# と VB.NET のサンプルでは、プラットホームに AnyCPU
を指定してコンパイルし、 実行時に x86/x64 を判定して呼び出す DLL
を切り分けるようにしています。</p>
<p>Arm にはまだ対応していません。</p>
<h2 id="cサンプルの出力">C#サンプルの出力</h2>
<pre><code>2*2+2/2 = 5
1/3 = 0.333333333333333
1/3-0.3333333333333 = 3.33066907387547E-14
1/0 = ∞
(-1)/0 = -∞
0/0 = NaN
ERROR: 0/0+ : 構文解析エラー: +
ERROR: 0/0+Hoge : 構文解析エラー: +Hoge
2**3**4 = 2.41785163922926E+24
2**(3**4) = 2.41785163922926E+24
(2**3)**4 = 4096
2^(1/2) = 1.4142135623731
-2^(1/2) = -1.4142135623731
-2^-(1/2) = -0.707106781186548
(-2)^-(1/2) = NaN
(2^(1/12))^7 = 1.49830707687668
gamma(0.5)**2 = 3.14159265358979
exp(-1/0) = 0
round(exp(gammaln(0.5)*2),2) = 3.14</code></pre>
<h2 id="動作環境">動作環境</h2>
<p>Windows 10 以降 (x86, x64)</p>
<h2 id="ライセンス">ライセンス</h2>
<p>ソースコードは <a href="https://www.boost.org/LICENSE_1_0.txt">Boost
Software License, Version 1.0</a> に従って公開しています。</p>
<p>バイナリの配布は自由です。</p>
<h2 id="ソースコードの所在">ソースコードの所在</h2>
<p>ソースコードは <a href="https://github.com/neige68/shiki-no-keisan-dll">https://github.com/neige68/shiki-no-keisan-dll</a>
にあります。</p>
<h2 id="サンプルコードのビルド方法">サンプルコードのビルド方法</h2>
<p>Visual Studio 2019 (VC14.2) を使用しています。 C, C++ サンプルでは
CMake 3.24 も使用しています。 C++ サンプルでは Boost 1.81
も使用しています。 必要なものを用意してください。</p>
<p>Visual Studio 2019 の vcvarsall.bat のあるディレクトリを環境変数
VC142 に設定しておいてください。</p>
<p>例:</p>
<pre><code>set VC142=C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build</code></pre>
<p>各ディレクトリの build.bat を実行してください。</p>
<h2 id="ファイル">ファイル</h2>
<ul>
<li><p>docs/builtin_functions.html - 組込関数ドキュメント</p></li>
<li><p>include/shiki_no_keisan.h - C/C++ ヘッダファイル</p></li>
<li><p>sample/cs/ - C#サンプル</p></li>
<li><p>sample/vb/ - VB.NET サンプル</p></li>
<li><p>sample/vc/ - C サンプル</p></li>
<li><p>sample/vcpp/ - C++ サンプル</p></li>
<li><p>VCランタイム ライブラリ静的リンク版DLL/LIB</p>
<ul>
<li><p>bin/x64/neige68.ShikiNoKeisan.dll - x64用DLL</p></li>
<li><p>bin/x86/neige68.ShikiNoKeisan.dll - x86用DLL</p></li>
<li><p>lib/x64/neige68.ShikiNoKeisan.lib - x64用インポート
ライブラリ</p></li>
<li><p>lib/x86/neige68.ShikiNoKeisan.lib - x86用インポート
ライブラリ</p></li>
</ul></li>
<li><p>ビルド済みサンプル実行モジュール</p>
<ul>
<li><p>bin/x64/eval.exe - x64用 C++ サンプル実行モジュール</p></li>
<li><p>bin/x86/eval.exe - x86用 C++ サンプル実行モジュール</p></li>
</ul></li>
</ul>
<h2 id="今後の予定">今後の予定</h2>
<ul>
<li><p>変数対応</p></li>
<li><p>Arm 対応(実機が入手できたら)</p></li>
</ul>
<h2 id="連絡先">連絡先</h2>
<ul>
<li><p><a href="https://github.com/neige68/shiki-no-keisan-dll/issues">github
issues</a></p></li>
<li><p>mail: shiki-no-keisan-dll@neige@ の2つめの@を .nu
で置換してください</p></li>
</ul>
</body>
</html>
